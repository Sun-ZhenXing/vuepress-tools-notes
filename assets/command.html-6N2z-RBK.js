import{_ as e,r as p,o as c,c as t,b as s,a as n,w as l,d as o,e as r}from"./app-THZs9_px.js";const D={},d=s("h1",{id:"-docker-å¸¸ç”¨å‘½ä»¤æ±‡æ€»",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#-docker-å¸¸ç”¨å‘½ä»¤æ±‡æ€»"},[s("span",null,"ğŸš€ Docker å¸¸ç”¨å‘½ä»¤æ±‡æ€»")])],-1),i={class:"table-of-contents"},y=r(`<h2 id="1-å®‰è£…-docker" tabindex="-1"><a class="header-anchor" href="#1-å®‰è£…-docker"><span>1. å®‰è£… Docker</span></a></h2><p>Debian/Ubuntu ç³»ç»Ÿå®‰è£… Docker CEï¼š</p><div class="language-bash" data-ext="sh" data-title="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">curl</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">-fsSL</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">https://get.docker.com</span><span style="color:#D4D4D4;"> | </span><span style="color:#DCDCAA;">bash</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">-s</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">docker</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">--mirror</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">Aliyun</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;"># æ›´æ–° Docker Daemon é…ç½®ï¼Œä½¿å¾—æ— éœ€ sudo</span></span>
<span class="line"><span style="color:#DCDCAA;">sudo</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">sed</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">-i</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">s/SocketMode=</span><span style="color:#B5CEA8;">0660</span><span style="color:#CE9178;">/SocketMode=</span><span style="color:#B5CEA8;">0666</span><span style="color:#CE9178;">/g</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">/usr/lib/systemd/system/docker.socket</span></span>
<span class="line"><span style="color:#DCDCAA;">sudo</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">systemctl</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">daemon-reload</span></span>
<span class="line"><span style="color:#DCDCAA;">sudo</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">systemctl</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">restart</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">docker.socket</span></span>
<span class="line"></span></code></pre></div><p>å®šä¹‰ Docker Compose åˆ«åï¼š</p><div class="language-bash" data-ext="sh" data-title="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">echo</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&quot;alias docker-compose=&#39;docker compose&#39;&quot;</span><span style="color:#D4D4D4;"> &gt;&gt; </span><span style="color:#CE9178;">~/.bashrc</span></span>
<span class="line"><span style="color:#DCDCAA;">source</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">~/.bashrc</span></span>
<span class="line"></span></code></pre></div><h2 id="2-docker-é•œåƒå’Œå®¹å™¨" tabindex="-1"><a class="header-anchor" href="#2-docker-é•œåƒå’Œå®¹å™¨"><span>2. Docker é•œåƒå’Œå®¹å™¨</span></a></h2><p>æŸ¥çœ‹æ‰€æœ‰é•œåƒï¼š</p><div class="language-bash" data-ext="sh" data-title="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">docker</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">ps</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">-a</span></span>
<span class="line"></span></code></pre></div><p>æŸ¥çœ‹æ‰€æœ‰å®¹å™¨ï¼š</p><div class="language-bash" data-ext="sh" data-title="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">docker</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">images</span></span>
<span class="line"></span></code></pre></div><p>å°†å®¹å™¨æäº¤ä¸ºé•œåƒï¼š</p><div class="language-bash" data-ext="sh" data-title="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">docker</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">commit</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">$container_id</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">$image_name</span><span style="color:#CE9178;">[:</span><span style="color:#9CDCFE;">$tag</span><span style="color:#CE9178;">]</span></span>
<span class="line"></span></code></pre></div><p>å°†é•œåƒå¯¼å‡ºä¸º <code>.tar</code> æ–‡ä»¶ï¼š</p><div class="language-bash" data-ext="sh" data-title="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">docker</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">save</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">-o</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">$filename</span><span style="color:#CE9178;">.tar</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">$image_name</span><span style="color:#CE9178;">[:</span><span style="color:#9CDCFE;">$tag</span><span style="color:#CE9178;">]</span></span>
<span class="line"></span></code></pre></div><p>ä» <code>.tar</code> æ–‡ä»¶å¯¼å…¥é•œåƒï¼š</p><div class="language-bash" data-ext="sh" data-title="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">docker</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">load</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">-i</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">$filename</span><span style="color:#CE9178;">.tar</span></span>
<span class="line"></span></code></pre></div><p>åˆ é™¤é•œåƒï¼š</p><div class="language-bash" data-ext="sh" data-title="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">docker</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">rmi</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">$image_name</span><span style="color:#CE9178;">[:</span><span style="color:#9CDCFE;">$tag</span><span style="color:#CE9178;">]</span></span>
<span class="line"></span></code></pre></div><p>åˆ é™¤å®¹å™¨ï¼š</p><div class="language-bash" data-ext="sh" data-title="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">docker</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">rm</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">$container_id</span></span>
<span class="line"></span></code></pre></div><p>ä½¿ç”¨æŒ‡å®š <code>Dockerfile</code> æ„å»ºé•œåƒï¼š</p><div class="language-bash" data-ext="sh" data-title="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">docker</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">build</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">-t</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">$image_name</span><span style="color:#CE9178;">[:</span><span style="color:#9CDCFE;">$tag</span><span style="color:#CE9178;">]</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">$path_to_dockerfile</span></span>
<span class="line"></span></code></pre></div><h2 id="3-docker-compose" tabindex="-1"><a class="header-anchor" href="#3-docker-compose"><span>3. Docker Compose</span></a></h2><p>æŸ¥çœ‹ Docker Compose ç‰ˆæœ¬ï¼š</p><div class="language-bash" data-ext="sh" data-title="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">docker</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">compose</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">version</span></span>
<span class="line"></span></code></pre></div><p>å¯åŠ¨ Docker Compose æ„å»ºåå°åº”ç”¨ï¼š</p><div class="language-bash" data-ext="sh" data-title="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">docker</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">compose</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">up</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">-d</span></span>
<span class="line"></span></code></pre></div><p>åˆ é™¤ Docker Compose æ„å»ºçš„åº”ç”¨ï¼š</p><div class="language-bash" data-ext="sh" data-title="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">docker</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">compose</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">down</span></span>
<span class="line"></span></code></pre></div><h2 id="4-docker-æ¸…ç†" tabindex="-1"><a class="header-anchor" href="#4-docker-æ¸…ç†"><span>4. Docker æ¸…ç†</span></a></h2><p>æ¸…ç†æ‰€æœ‰æœªä½¿ç”¨çš„é•œåƒã€å®¹å™¨ã€ç½‘ç»œå’Œå·ï¼š</p><div class="language-bash" data-ext="sh" data-title="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">docker</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">system</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">prune</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">-a</span></span>
<span class="line"></span></code></pre></div><p>æ¸…ç†æ‰€æœ‰æœªä½¿ç”¨çš„é•œåƒã€å®¹å™¨å’Œç½‘ç»œï¼š</p><div class="language-bash" data-ext="sh" data-title="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">docker</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">system</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">prune</span></span>
<span class="line"></span></code></pre></div><p>å¼ºåˆ¶æ¸…ç†æ„å»ºç¼“å­˜ï¼š</p><div class="language-bash" data-ext="sh" data-title="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">docker</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">builder</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">prune</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">-a</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">-f</span></span>
<span class="line"></span></code></pre></div><p>å¼ºåˆ¶æ¸…ç†æ— æ ‡ç­¾é•œåƒï¼š</p><div class="language-bash" data-ext="sh" data-title="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">docker</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">image</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">prune</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">-a</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">-f</span></span>
<span class="line"></span></code></pre></div>`,38);function C(E,k){const a=p("router-link");return c(),t("div",null,[d,s("nav",i,[s("ul",null,[s("li",null,[n(a,{to:"#1-å®‰è£…-docker"},{default:l(()=>[o("1. å®‰è£… Docker")]),_:1})]),s("li",null,[n(a,{to:"#2-docker-é•œåƒå’Œå®¹å™¨"},{default:l(()=>[o("2. Docker é•œåƒå’Œå®¹å™¨")]),_:1})]),s("li",null,[n(a,{to:"#3-docker-compose"},{default:l(()=>[o("3. Docker Compose")]),_:1})]),s("li",null,[n(a,{to:"#4-docker-æ¸…ç†"},{default:l(()=>[o("4. Docker æ¸…ç†")]),_:1})])])]),y])}const u=e(D,[["render",C],["__file","command.html.vue"]]);export{u as default};
