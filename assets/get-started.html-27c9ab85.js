import{_ as p,r as o,o as c,c as i,b as s,a as l,w as e,d as n,e as r}from"./app-c6e9f3a7.js";const D={},t=s("h1",{id:"开始使用-github-actions",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#开始使用-github-actions","aria-hidden":"true"},"#"),n(" 开始使用 GitHub Actions")],-1),d={class:"table-of-contents"},y=r(`<h2 id="1-workflow" tabindex="-1"><a class="header-anchor" href="#1-workflow" aria-hidden="true">#</a> 1. Workflow</h2><p>工作流是一个可配置的自动化过程，它将运行一个或多个作业。工作流由存储库的 YAML 文件定义，并在存储库中的事件触发时运行，也可以手动触发，或按定义的时间表触发。</p><p>我们可以创建 <code>.github/workflow/any_name.yml</code>，其中 <code>any_name.yml</code> 可以是任意名称的 YAML 文件，此文件指定了工作流要执行的任务。</p><p>本项目即使用 GitHub Actions 自动构建的，其配置文件如下：</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#569CD6;">name</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">Deploy Docs</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;">on</span><span style="color:#D4D4D4;">:</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#569CD6;">push</span><span style="color:#D4D4D4;">:</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">branches</span><span style="color:#D4D4D4;">:</span></span>
<span class="line"><span style="color:#D4D4D4;">      - </span><span style="color:#CE9178;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;">jobs</span><span style="color:#D4D4D4;">:</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#569CD6;">deploy-gh-pages</span><span style="color:#D4D4D4;">:</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">runs-on</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">ubuntu-latest</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">steps</span><span style="color:#D4D4D4;">:</span></span>
<span class="line"><span style="color:#D4D4D4;">      - </span><span style="color:#569CD6;">name</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">Checkout</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#569CD6;">uses</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">actions/checkout@v4</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#569CD6;">with</span><span style="color:#D4D4D4;">:</span></span>
<span class="line"><span style="color:#D4D4D4;">          </span><span style="color:#569CD6;">fetch-depth</span><span style="color:#D4D4D4;">: </span><span style="color:#B5CEA8;">0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;">      - </span><span style="color:#569CD6;">name</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">Install pnpm</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#569CD6;">uses</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">pnpm/action-setup@v2</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#569CD6;">with</span><span style="color:#D4D4D4;">:</span></span>
<span class="line"><span style="color:#D4D4D4;">          </span><span style="color:#569CD6;">version</span><span style="color:#D4D4D4;">: </span><span style="color:#B5CEA8;">8</span></span>
<span class="line"><span style="color:#D4D4D4;">          </span><span style="color:#569CD6;">run_install</span><span style="color:#D4D4D4;">: </span><span style="color:#569CD6;">true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;">      - </span><span style="color:#569CD6;">name</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">Setup Node.js</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#569CD6;">uses</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">actions/setup-node@v4</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#569CD6;">with</span><span style="color:#D4D4D4;">:</span></span>
<span class="line"><span style="color:#D4D4D4;">          </span><span style="color:#569CD6;">node-version</span><span style="color:#D4D4D4;">: </span><span style="color:#B5CEA8;">20</span></span>
<span class="line"><span style="color:#D4D4D4;">          </span><span style="color:#569CD6;">cache</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">pnpm</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;">      - </span><span style="color:#569CD6;">name</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">Build Docs</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#569CD6;">env</span><span style="color:#D4D4D4;">:</span></span>
<span class="line"><span style="color:#D4D4D4;">          </span><span style="color:#569CD6;">NODE_OPTIONS</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">--max_old_space_size=8192</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#569CD6;">run</span><span style="color:#D4D4D4;">: </span><span style="color:#C586C0;">|</span><span style="color:#569CD6;">-</span></span>
<span class="line"><span style="color:#CE9178;">          pnpm run docs:build</span></span>
<span class="line"><span style="color:#CE9178;">          &gt; docs/.vuepress/dist/.nojekyll</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;">      - </span><span style="color:#569CD6;">name</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">Deploy Docs</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#569CD6;">uses</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">JamesIves/github-pages-deploy-action@v4</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#569CD6;">with</span><span style="color:#D4D4D4;">:</span></span>
<span class="line"><span style="color:#D4D4D4;">          </span><span style="color:#569CD6;">branch</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">gh-pages</span></span>
<span class="line"><span style="color:#D4D4D4;">          </span><span style="color:#569CD6;">folder</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">docs/.vuepress/dist</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="2-虚拟环境" tabindex="-1"><a class="header-anchor" href="#2-虚拟环境" aria-hidden="true">#</a> 2. 虚拟环境</h2><p>GitHub 提供 Linux、Windows 和 MacOS 虚拟机来运行工作流，或者您可以在自己的数据中心或云基础架构中托管自己的自托管运行器。</p>`,7);function v(u,m){const a=o("router-link");return c(),i("div",null,[t,s("nav",d,[s("ul",null,[s("li",null,[l(a,{to:"#1-workflow"},{default:e(()=>[n("1. Workflow")]),_:1})]),s("li",null,[l(a,{to:"#2-虚拟环境"},{default:e(()=>[n("2. 虚拟环境")]),_:1})])])]),y])}const C=p(D,[["render",v],["__file","get-started.html.vue"]]);export{C as default};
