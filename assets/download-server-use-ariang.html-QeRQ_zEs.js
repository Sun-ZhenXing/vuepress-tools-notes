import{_ as o,r as e,o as c,c as r,b as s,a as n,w as l,d as p,e as D}from"./app-THZs9_px.js";const t={},i=s("h1",{id:"docker-搭建-ariang-服务器",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#docker-搭建-ariang-服务器"},[s("span",null,"Docker 搭建 AriaNg 服务器")])],-1),y={class:"table-of-contents"},d=D(`<h2 id="1-创建容器" tabindex="-1"><a class="header-anchor" href="#1-创建容器"><span>1. 创建容器</span></a></h2><p>拉取镜像：</p><div class="language-bash" data-ext="sh" data-title="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">docker</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">pull</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">p3terx/aria2-pro</span></span>
<span class="line"><span style="color:#DCDCAA;">docker</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">pull</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">p3terx/ariang</span></span>
<span class="line"></span></code></pre></div><p>创建 Aria2 容器，将 <code>&lt;rpc_password&gt;</code> 改为你自定义的 RPC 密码：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">docker</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">run</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">-d</span><span style="color:#D4D4D4;"> </span><span style="color:#D7BA7D;">\\</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">--name</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">aria2</span><span style="color:#D4D4D4;"> </span><span style="color:#D7BA7D;">\\</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">--restart</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">unless-stopped</span><span style="color:#D4D4D4;"> </span><span style="color:#D7BA7D;">\\</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">--log-opt</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">max-size=</span><span style="color:#B5CEA8;">1</span><span style="color:#CE9178;">m</span><span style="color:#D4D4D4;"> </span><span style="color:#D7BA7D;">\\</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">-e</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">UMASK_SET=</span><span style="color:#B5CEA8;">022</span><span style="color:#D4D4D4;"> </span><span style="color:#D7BA7D;">\\</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">-e</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">RPC_SECRET=</span><span style="color:#D4D4D4;">&lt;</span><span style="color:#CE9178;">rpc_passwor</span><span style="color:#D4D4D4;">d&gt; </span><span style="color:#D7BA7D;">\\</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">-e</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">RPC_PORT=</span><span style="color:#B5CEA8;">6800</span><span style="color:#D4D4D4;"> </span><span style="color:#D7BA7D;">\\</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">-e</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">LISTEN_PORT=</span><span style="color:#B5CEA8;">6888</span><span style="color:#D4D4D4;"> </span><span style="color:#D7BA7D;">\\</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">-p</span><span style="color:#D4D4D4;"> </span><span style="color:#B5CEA8;">16800</span><span style="color:#CE9178;">:6800</span><span style="color:#D4D4D4;"> </span><span style="color:#D7BA7D;">\\</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">-p</span><span style="color:#D4D4D4;"> </span><span style="color:#B5CEA8;">16888</span><span style="color:#CE9178;">:6888</span><span style="color:#D4D4D4;"> </span><span style="color:#D7BA7D;">\\</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">-p</span><span style="color:#D4D4D4;"> </span><span style="color:#B5CEA8;">16888</span><span style="color:#CE9178;">:6888/udp</span><span style="color:#D4D4D4;"> </span><span style="color:#D7BA7D;">\\</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">-v</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">$HOME</span><span style="color:#CE9178;">/config:/config</span><span style="color:#D4D4D4;"> </span><span style="color:#D7BA7D;">\\</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">-v</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">$HOME</span><span style="color:#CE9178;">/downloads:/downloads</span><span style="color:#D4D4D4;"> </span><span style="color:#D7BA7D;">\\</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#CE9178;">p3terx/aria2-pro</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>创建 AriaNg 下载客户端：</p><div class="language-bash" data-ext="sh" data-title="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">docker</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">run</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">-d</span><span style="color:#D4D4D4;"> </span><span style="color:#D7BA7D;">\\</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">--name</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">ariang</span><span style="color:#D4D4D4;"> </span><span style="color:#D7BA7D;">\\</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">--log-opt</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">max-size=</span><span style="color:#B5CEA8;">1</span><span style="color:#CE9178;">m</span><span style="color:#D4D4D4;"> </span><span style="color:#D7BA7D;">\\</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">--restart</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">unless-stopped</span><span style="color:#D4D4D4;"> </span><span style="color:#D7BA7D;">\\</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">-p</span><span style="color:#D4D4D4;"> </span><span style="color:#B5CEA8;">16880</span><span style="color:#CE9178;">:6880</span><span style="color:#D4D4D4;"> </span><span style="color:#D7BA7D;">\\</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#CE9178;">p3terx/ariang</span></span>
<span class="line"></span></code></pre></div><h2 id="2-配置设置" tabindex="-1"><a class="header-anchor" href="#2-配置设置"><span>2. 配置设置</span></a></h2><h3 id="21-配置-rpc-设置" tabindex="-1"><a class="header-anchor" href="#21-配置-rpc-设置"><span>2.1 配置 RPC 设置</span></a></h3><p>打开 <code>http://&lt;ip&gt;:16880/</code>，然后点击 AriaNg 设置，点击 RPC。</p><p>将 Aria2 RPC 地址的端口号改为 <code>16800</code>，然后填写 Aria2 RPC 秘钥（即你自定义的密码）。</p><p>刷新页面即可看到已连接。现在可以进行离线下载了。</p><h3 id="22-配置百度网盘直链下载设置" tabindex="-1"><a class="header-anchor" href="#22-配置百度网盘直链下载设置"><span>2.2 配置百度网盘直链下载设置</span></a></h3><p>要下载百度网盘直链，需要：</p><ol><li>将 Aria2 设置 / HTTP / 自定义 User Agent 设置为 <code>netdisk;PC</code>（此配置项可参考最新解析工具）</li><li>（建议）将单服务器最大连接数设置为 <code>4</code></li></ol>`,15);function C(u,E){const a=e("router-link");return c(),r("div",null,[i,s("nav",y,[s("ul",null,[s("li",null,[n(a,{to:"#1-创建容器"},{default:l(()=>[p("1. 创建容器")]),_:1})]),s("li",null,[n(a,{to:"#2-配置设置"},{default:l(()=>[p("2. 配置设置")]),_:1}),s("ul",null,[s("li",null,[n(a,{to:"#21-配置-rpc-设置"},{default:l(()=>[p("2.1 配置 RPC 设置")]),_:1})]),s("li",null,[n(a,{to:"#22-配置百度网盘直链下载设置"},{default:l(()=>[p("2.2 配置百度网盘直链下载设置")]),_:1})])])])])]),d])}const A=o(t,[["render",C],["__file","download-server-use-ariang.html.vue"]]);export{A as default};
