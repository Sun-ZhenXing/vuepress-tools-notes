import{_ as n,r as o,o as l,c as p,b as t,a as e,w as r,d,e as h}from"./app-THZs9_px.js";const i={},f=t("h1",{id:"sftp",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#sftp"},[t("span",null,"SFTP")])],-1),_={class:"table-of-contents"},u=t("h2",{id:"1-sftp-简介",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#1-sftp-简介"},[t("span",null,"1. SFTP 简介")])],-1),m=t("em",null,"应用层协议 FTP",-1),S=h(`<p>SFTP 是 Secure File Transfer Protocol 的缩写，也就是安全的文件传输协议。除了 SFTP 外还有一种安全的 FTP 协议 FTPS，这是 FTP 协议的衍生，必须要安装指定的客户端和服务端软件才能传输。</p><p>如果说 FTPS 是在 FTP 协议上增加了一层 SSL，那么 SFTP 就是是基于 SSH 的协议，与 FTP 完全不同。SFTP 只需要安装 SSH 客户端即可传输，且只单个连接并且只占用 SSH 数据通道，不需要其他端口。<sup class="footnote-ref"><a href="#footnote1">[1]</a><a class="footnote-anchor" id="footnote-ref1"></a></sup></p><h2 id="2-使用-sftp-命令" tabindex="-1"><a class="header-anchor" href="#2-使用-sftp-命令"><span>2. 使用 SFTP 命令</span></a></h2><p>如果你能够使用 SSH 连接一台主机，那么你可以使用 SFTP 命令来管理主机上的文件了。</p><p><code>sftp</code> 命令的语法如下：</p><div class="language-bash" data-ext="sh" data-title="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">sftp</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">user_name@remote_server_address[:path]</span></span>
<span class="line"></span></code></pre></div><p>其中有一些常用的附加参数：</p><ul><li><code>-B</code>: buffer_size，制定传输 buffer 的大小，更大的 buffer 会消耗更多的内存，默认为 32768 bytes</li><li><code>-P</code>: port，制定连接的端口号</li><li><code>-R</code>: num_requests，制定一次连接的请求数，可以略微提升传输速度，但是会增加内存的使用量</li></ul><p>和 Shell 类似，SFTP 解释器中预置了常用的命令，但是只有基本的文件管理命令。</p><p>输入 <code>?</code> 或 <code>help</code> 查看帮助命令。</p><p>常见命令如下，不过注意这些命令并不是 Shell 命令，和 Shell 命令不完全一致：</p><table><thead><tr><th>命令</th><th>功能</th></tr></thead><tbody><tr><td><code>bye</code></td><td>退出</td></tr><tr><td><code>cd path</code></td><td>进入目录</td></tr><tr><td><code>chgrp grp path</code></td><td>修改目录 <code>path</code> 组为 <code>grp</code></td></tr><tr><td><code>chmod mode path</code></td><td>修改权限</td></tr><tr><td><code>chown own path</code></td><td>修改所有者</td></tr><tr><td><code>df [-hi] [path]</code></td><td>查看磁盘或目录信息</td></tr><tr><td><code>exit</code></td><td>退出</td></tr><tr><td><code>get [-afPpRr] remote [local]</code></td><td>下载文件</td></tr><tr><td><code>reget [-fPpRr] remote [local]</code></td><td>从断点继续下载文件</td></tr><tr><td><code>reput [-fPpRr] [local] remote</code></td><td>从断点继续上传文件</td></tr><tr><td><code>help</code></td><td>帮助</td></tr><tr><td><code>lcd path</code></td><td>切换本地目录</td></tr><tr><td><code>lls [ls-options [path]]</code></td><td>列出本地目录的内容</td></tr><tr><td><code>lmkdir path</code></td><td>本地创建文件夹</td></tr><tr><td><code>ln [-s] oldpath newpath</code></td><td>链接文件</td></tr><tr><td><code>lpwd</code></td><td>查看当前本地目录位置</td></tr><tr><td><code>ls [-1afhlnrSt] [path]</code></td><td>列出目录内容</td></tr><tr><td><code>lumask umask</code></td><td>设置本地权限掩码</td></tr><tr><td><code>mkdir path</code></td><td>创建文件夹</td></tr><tr><td><code>progress</code></td><td>切换进度表的显示</td></tr><tr><td><code>put [-afPpRr] local [remote]</code></td><td>上传文件</td></tr><tr><td><code>pwd</code></td><td>查看当前目录位置</td></tr><tr><td><code>quit</code></td><td>退出</td></tr><tr><td><code>rename oldpath newpath</code></td><td>重命名文件</td></tr><tr><td><code>rm path</code></td><td>删除路径</td></tr><tr><td><code>rmdir path</code></td><td>删除目录</td></tr><tr><td><code>symlink oldpath newpath</code></td><td>符号链接</td></tr><tr><td><code>version</code></td><td>查看 SFTP版本</td></tr><tr><td><code>!command</code></td><td>执行一个命令</td></tr><tr><td><code>!</code></td><td>切换到本地终端</td></tr><tr><td><code>?</code></td><td>帮助</td></tr></tbody></table>`,12),P={class:"hint-container tip"},T=t("p",{class:"hint-container-title"},"SFTP 定制脚本",-1),F={href:"https://blog.alexsun.top/vuepress-python-notes/pypi-package/utils/paramiko.html",target:"_blank",rel:"noopener noreferrer"},b=t("hr",{class:"footnotes-sep"},null,-1),k={class:"footnotes"},g={class:"footnotes-list"},x={id:"footnote1",class:"footnote-item"},y={href:"https://zhuanlan.zhihu.com/p/266255133",target:"_blank",rel:"noopener noreferrer"},v=t("a",{href:"#footnote-ref1",class:"footnote-backref"},"↩︎",-1);function w(E,B){const c=o("router-link"),a=o("Badge"),s=o("ExternalLinkIcon");return l(),p("div",null,[f,t("nav",_,[t("ul",null,[t("li",null,[e(c,{to:"#1-sftp-简介"},{default:r(()=>[d("1. SFTP 简介")]),_:1})]),t("li",null,[e(c,{to:"#2-使用-sftp-命令"},{default:r(()=>[d("2. 使用 SFTP 命令")]),_:1})])])]),u,t("p",null,[e(a,{type:"danger"},{default:r(()=>[d("TODO")]),_:1}),d(" 在计算机网络中增加 "),m,d("，然后引用至此。")]),S,t("div",P,[T,t("p",null,[d("如果需要自动化地连接 SFTP，建议使用 Python 生态下的 "),t("a",F,[d("Paramiko"),e(s)]),d(" 等第三方库来实现。")])]),b,t("section",k,[t("ol",g,[t("li",x,[t("p",null,[d("科普！一文详解 FTP、FTPS 与 SFTP 的原理，知乎，"),t("a",y,[d("https://zhuanlan.zhihu.com/p/266255133"),e(s)]),d(),v])])])])])}const z=n(i,[["render",w],["__file","sftp.html.vue"]]);export{z as default};
