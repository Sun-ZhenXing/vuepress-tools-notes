import{_ as l,r as c,o as t,c as p,b as s,a as o,w as n,d as a,e as r}from"./app-9ZKrydrW.js";const d={},i=s("h1",{id:"基于-wsl-2-的-docker-配置说明",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#基于-wsl-2-的-docker-配置说明","aria-hidden":"true"},"#"),a(" 基于 WSL 2 的 Docker 配置说明")],-1),D={class:"table-of-contents"},h=r('<h2 id="1-修改容器配置" tabindex="-1"><a class="header-anchor" href="#1-修改容器配置" aria-hidden="true">#</a> 1. 修改容器配置</h2><p>容器配置一般在 <code>\\\\wsl.localhost\\docker-desktop-data\\data\\docker\\containers\\${ID}\\hostconfig.json</code> 位置，其中 <code>${ID}</code> 为此容器的 ID。</p><p>查看 Docker 容器的 ID 可使用下面的命令：</p><div class="language-bash" data-ext="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">docker</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">inspect</span><span style="color:#D4D4D4;"> ${</span><span style="color:#9CDCFE;">name</span><span style="color:#D4D4D4;">} </span><span style="color:#569CD6;">--format=</span><span style="color:#CE9178;">&quot;{{.ID}}&quot;</span></span>\n<span class="line"></span></code></pre></div><p>其中 <code>${name}</code> 为容器的 ID 或名称。</p><h2 id="11-修改共享内存" tabindex="-1"><a class="header-anchor" href="#11-修改共享内存" aria-hidden="true">#</a> 1.1 修改共享内存</h2><p>在创建容器时指定共享内存大小：</p><div class="language-bash" data-ext="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">docker</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">run</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">-itd</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">--shm-size=</span><span style="color:#CE9178;">&quot;1g&quot;</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">ubuntu</span></span>\n<span class="line"></span></code></pre></div><p>一般训练的时候对共享内存需求很大，所以我们需要修改共享内存，最合理的共享内存大小是电脑内存的 25% 然后四舍五入到整数的数值。</p><p>查看共享内存大小：</p><div class="language-bash" data-ext="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">df</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">-lh</span><span style="color:#D4D4D4;"> | </span><span style="color:#DCDCAA;">grep</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">shm</span></span>\n<span class="line"></span></code></pre></div><p>找到上述配置文件，然后修改 <code>shm_size</code> 条目的值即可，单位是 KB。</p>',12);function u(y,k){const e=c("router-link");return t(),p("div",null,[i,s("nav",D,[s("ul",null,[s("li",null,[o(e,{to:"#1-修改容器配置"},{default:n(()=>[a("1. 修改容器配置")]),_:1})]),s("li",null,[o(e,{to:"#11-修改共享内存"},{default:n(()=>[a("1.1 修改共享内存")]),_:1})])])]),h])}const C=l(d,[["render",u],["__file","wsl-docker-config.html.vue"]]);export{C as default};
