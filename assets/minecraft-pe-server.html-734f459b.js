import{_ as c,r,o as t,c as i,b as s,a as n,w as o,d as a,e as p}from"./app-990f6815.js";const d={},D=s("h1",{id:"docker-部署-minecraft-pe-服务器",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#docker-部署-minecraft-pe-服务器","aria-hidden":"true"},"#"),a(" Docker 部署 Minecraft PE 服务器")],-1),u={class:"table-of-contents"},y=s("h2",{id:"_1-下载程序并创建容器",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_1-下载程序并创建容器","aria-hidden":"true"},"#"),a(" 1. 下载程序并创建容器")],-1),h={href:"https://www.minecraft.net/zh-hans/download/server/bedrock",target:"_blank",rel:"noopener noreferrer"},b=p(`<p>创建容器：</p><div class="language-bash" data-ext="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">docker</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">run</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">-d</span><span style="color:#D4D4D4;"> </span><span style="color:#D7BA7D;">\\</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">--name</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">mc-pe</span><span style="color:#D4D4D4;"> </span><span style="color:#D7BA7D;">\\</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">-p</span><span style="color:#D4D4D4;"> </span><span style="color:#B5CEA8;">19132</span><span style="color:#CE9178;">:19132/udp</span><span style="color:#D4D4D4;"> </span><span style="color:#D7BA7D;">\\</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">-p</span><span style="color:#D4D4D4;"> </span><span style="color:#B5CEA8;">19133</span><span style="color:#CE9178;">:19133/udp</span><span style="color:#D4D4D4;"> </span><span style="color:#D7BA7D;">\\</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">--volume</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&quot;</span><span style="color:#9CDCFE;">$PWD</span><span style="color:#CE9178;">/mincraft-pe&quot;:/root</span><span style="color:#D4D4D4;"> </span><span style="color:#D7BA7D;">\\</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#CE9178;">ubuntu:20.04</span></span>
<span class="line"></span></code></pre></div><p>将下载的文件放到 <code>$PWD/mincraft-pe</code> 下面，然后将启动命令作为服务运行。</p><p>其运行命令为：</p><div class="language-bash" data-ext="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#9CDCFE;">LD_LIBRARY_PATH</span><span style="color:#D4D4D4;">=</span><span style="color:#CE9178;">.</span><span style="color:#D4D4D4;"> </span><span style="color:#DCDCAA;">./bedrock_server</span></span>
<span class="line"></span></code></pre></div><h2 id="_2-mc-服务器管理" tabindex="-1"><a class="header-anchor" href="#_2-mc-服务器管理" aria-hidden="true">#</a> 2. MC 服务器管理</h2><p>本节使用 MCSManager 来创建管理器。</p><p>有用的链接：</p>`,8),_={href:"https://github.com/MCSManager/MCSManager",target:"_blank",rel:"noopener noreferrer"},v={href:"https://mcsmanager.com/",target:"_blank",rel:"noopener noreferrer"},C={href:"https://docs.mcsmanager.com/",target:"_blank",rel:"noopener noreferrer"},m=p(`<p>Linux 下安装构建：</p><div class="language-bash" data-ext="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">sudo</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">su</span></span>
<span class="line"><span style="color:#DCDCAA;">wget</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">-qO-</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">https://gitee.com/mcsmanager/script/raw/master/setup.sh</span><span style="color:#D4D4D4;"> | </span><span style="color:#DCDCAA;">bash</span></span>
<span class="line"><span style="color:#DCDCAA;">exit</span></span>
<span class="line"></span></code></pre></div><p>执行后会自动运行守护进程，将服务器程序加入守护进程列表，并监听 23333 端口。</p><p>确保你的服务器防火墙开启了端口 <code>23333</code>，登录 <code>http://&lt;your-ip&gt;:23333</code>，管理服务器程序。</p><h3 id="_2-1-基岩版构建" tabindex="-1"><a class="header-anchor" href="#_2-1-基岩版构建" aria-hidden="true">#</a> 2.1 基岩版构建</h3>`,5),k={href:"https://www.minecraft.net/zh-hans/download/server/bedrock",target:"_blank",rel:"noopener noreferrer"},E={href:"https://minecraft.azureedge.net/bin-linux/bedrock-server-1.18.31.04.zip",target:"_blank",rel:"noopener noreferrer"},g=p(`<p>解压即为服务器程序。如果你希望启动单个实例，并在服务器上直接可用，启动命令如下，这只支持 Ubuntu：</p><div class="language-bash" data-ext="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#9CDCFE;">LD_LIBRARY_PATH</span><span style="color:#D4D4D4;">=</span><span style="color:#CE9178;">.</span><span style="color:#D4D4D4;"> </span><span style="color:#DCDCAA;">./bedrock_server</span></span>
<span class="line"></span></code></pre></div><p>在 Ubuntu 下直接运行时，可以设置默认选项，然后将退出方式设置为 <code>^C</code> 即可，配置好端口、防火墙等。</p><p>如果需要在 CentOS 等系统中运行，需要使用 Docker 。你可以在上面的管理工具中配置 Docker，这也需要编写 <code>Dockerfile</code> 。</p><p>编写类似下面的 <code>Dockerfile</code>，注意下方代码仅供参考，需要结合自身服务器进行配置：</p><div class="language-docker line-numbers-mode" data-ext="docker"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#569CD6;">FROM</span><span style="color:#D4D4D4;"> ubuntu</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;">COPY</span><span style="color:#D4D4D4;"> bedrock-server-1.18.12.01.zip /server/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;">WORKDIR</span><span style="color:#D4D4D4;"> /server</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;">RUN</span><span style="color:#D4D4D4;"> cd /server \\</span></span>
<span class="line"><span style="color:#D4D4D4;">    &amp;&amp; apt-get -y install openssl unzip \\</span></span>
<span class="line"><span style="color:#D4D4D4;">    &amp;&amp; unzip bedrock-server-1.18.12.01.zip</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;">CMD</span><span style="color:#D4D4D4;"> sh ./bedrock_server</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;">EXPOSE</span><span style="color:#D4D4D4;"> 19132 19133</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以构建镜像以备使用：</p><div class="language-bash" data-ext="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">docker</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">build</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">-t</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">nginx:mc_bedrock18_12</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">.</span></span>
<span class="line"></span></code></pre></div><p>当你下次需要一个新的游戏实例时，可以使用 <code>docker run</code> 产生一个新的容器，关于 Docker 的详细信息本文不过多介绍。</p><h3 id="_2-2-java-版本等构建" tabindex="-1"><a class="header-anchor" href="#_2-2-java-版本等构建" aria-hidden="true">#</a> 2.2 Java 版本等构建</h3><p>构建过程基本一致，将启动命令</p><div class="language-bash" data-ext="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">./bedrock_server</span></span>
<span class="line"></span></code></pre></div><p>替换为</p><div class="language-bash" data-ext="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">java</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">-jar</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">server.jar</span></span>
<span class="line"></span></code></pre></div><p>即可，其他配置自行选择。</p>`,15);function f(x,A){const l=r("router-link"),e=r("ExternalLinkIcon");return t(),i("div",null,[D,s("nav",u,[s("ul",null,[s("li",null,[n(l,{to:"#_1-下载程序并创建容器"},{default:o(()=>[a("1. 下载程序并创建容器")]),_:1})]),s("li",null,[n(l,{to:"#_2-mc-服务器管理"},{default:o(()=>[a("2. MC 服务器管理")]),_:1}),s("ul",null,[s("li",null,[n(l,{to:"#_2-1-基岩版构建"},{default:o(()=>[a("2.1 基岩版构建")]),_:1})]),s("li",null,[n(l,{to:"#_2-2-java-版本等构建"},{default:o(()=>[a("2.2 Java 版本等构建")]),_:1})])])])])]),y,s("p",null,[a("在 "),s("a",h,[a("基岩版服务器下载页面"),n(e)]),a(" 下载基岩版 Linux 程序。")]),b,s("ul",null,[s("li",null,[a("GitHub 地址："),s("a",_,[a("https://github.com/MCSManager/MCSManager"),n(e)])]),s("li",null,[a("项目主页："),s("a",v,[a("https://mcsmanager.com/"),n(e)])]),s("li",null,[a("项目文档："),s("a",C,[a("https://docs.mcsmanager.com/"),n(e)])])]),m,s("p",null,[a("如果需要下载基岩版服务器，到 "),s("a",k,[a("官方网站"),n(e)]),a("，直接下载，注意不要跳转到网易我的世界。")]),s("p",null,[a("当前最新版本地址："),s("a",E,[a("https://minecraft.azureedge.net/bin-linux/bedrock-server-1.18.31.04.zip"),n(e)]),a(" （2022-04-28）。")]),g])}const w=c(d,[["render",f],["__file","minecraft-pe-server.html.vue"]]);export{w as default};
