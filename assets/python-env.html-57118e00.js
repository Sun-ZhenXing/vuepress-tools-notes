import{_ as e,r as o,o as t,c,b as s,a as l,w as p,d as n,e as r}from"./app-0338c3c8.js";const i={},D=s("h1",{id:"docker-搭建基本-python-环境",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#docker-搭建基本-python-环境","aria-hidden":"true"},"#"),n(" Docker 搭建基本 Python 环境")],-1),y={class:"table-of-contents"},d=r(`<h2 id="1-python-官方镜像" tabindex="-1"><a class="header-anchor" href="#1-python-官方镜像" aria-hidden="true">#</a> 1. Python 官方镜像</h2><p>如果需要立即可用的 Python 可从 Python 镜像查找。例如：</p><div class="language-bash" data-ext="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">docker</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">pull</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">python:3.10.10-alpine3.17</span></span>
<span class="line"></span></code></pre></div><p>下文将基于 Ubuntu 22.04。</p><h2 id="2-ubuntu-创建-python-环境" tabindex="-1"><a class="header-anchor" href="#2-ubuntu-创建-python-环境" aria-hidden="true">#</a> 2. Ubuntu 创建 Python 环境</h2><p>创建容器：</p><div class="language-bash" data-ext="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">docker</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">run</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">-itd</span><span style="color:#D4D4D4;"> </span><span style="color:#D7BA7D;">\\</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">--name=auto-reg</span><span style="color:#D4D4D4;"> </span><span style="color:#D7BA7D;">\\</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#CE9178;">ubuntu:22.04</span><span style="color:#D4D4D4;"> </span><span style="color:#D7BA7D;">\\</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#CE9178;">/bin/bash</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DCDCAA;">docker</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">exec</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">-it</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">auto-reg</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">/bin/bash</span></span>
<span class="line"></span></code></pre></div><p>进入容器：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">cd</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;"># 可选，使用镜像源</span></span>
<span class="line"><span style="color:#DCDCAA;">mv</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">/etc/apt/sources.list</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">/etc/apt/sources.list.bak</span></span>
<span class="line"><span style="color:#DCDCAA;">echo</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;deb http://mirrors.aliyun.com/ubuntu/ jammy main restricted universe multiverse</span></span>
<span class="line"><span style="color:#CE9178;">deb http://mirrors.aliyun.com/ubuntu/ jammy-security main restricted universe multiverse</span></span>
<span class="line"><span style="color:#CE9178;">deb http://mirrors.aliyun.com/ubuntu/ jammy-updates main restricted universe multiverse</span></span>
<span class="line"><span style="color:#CE9178;">deb http://mirrors.aliyun.com/ubuntu/ jammy-proposed main restricted universe multiverse</span></span>
<span class="line"><span style="color:#CE9178;">deb http://mirrors.aliyun.com/ubuntu/ jammy-backports main restricted universe multiverse</span></span>
<span class="line"><span style="color:#CE9178;">&#39;</span><span style="color:#D4D4D4;"> &gt; </span><span style="color:#CE9178;">/etc/apt/sources.list</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DCDCAA;">apt</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">update</span></span>
<span class="line"><span style="color:#DCDCAA;">apt</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">upgrade</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">-y</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DCDCAA;">apt</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">install</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">-y</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">python3-pip</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;"># 使用镜像更新 pip</span></span>
<span class="line"><span style="color:#DCDCAA;">python3</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">-m</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">pip</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">install</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">-i</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">https://pypi.tuna.tsinghua.edu.cn/simple</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">--upgrade</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">pip</span></span>
<span class="line"><span style="color:#DCDCAA;">pip3</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">config</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">set</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">global.extra-index-url</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&quot;https://pypi.tuna.tsinghua.edu.cn/simple/ https://mirrors.aliyun.com/pypi/simple/ https://repo.huaweicloud.com/repository/pypi/simple/ https://mirrors.bfsu.edu.cn/pypi/web/simple/&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container info"><p class="hint-container-title">执行脚本示例</p><p>复制本地代码并进入后台运行：</p><div class="language-bash" data-ext="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">docker</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">cp</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">test_code.zip</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">auto-reg:/root</span></span>
<span class="line"><span style="color:#DCDCAA;">docker</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">exec</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">-it</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">auto-reg</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">/bin/bash</span></span>
<span class="line"></span></code></pre></div><p>进入容器后，执行下面的命令：</p><div class="language-bash" data-ext="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code><span class="line"><span style="color:#DCDCAA;">apt</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">install</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">-y</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">unzip</span></span>
<span class="line"><span style="color:#6A9955;"># 安装所需依赖</span></span>
<span class="line"><span style="color:#DCDCAA;">unzip</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">test_code.zip</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">-d</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">test_code</span></span>
<span class="line"><span style="color:#DCDCAA;">rm</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">test_code.zip</span></span>
<span class="line"><span style="color:#DCDCAA;">cd</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">test_code</span></span>
<span class="line"><span style="color:#DCDCAA;">pip3</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">install</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">-r</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">requirements.txt</span></span>
<span class="line"><span style="color:#DCDCAA;">nohup</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">python3</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">reg_with_email.py</span><span style="color:#D4D4D4;"> &amp;</span></span>
<span class="line"></span></code></pre></div></div>`,10);function u(C,h){const a=o("router-link");return t(),c("div",null,[D,s("nav",y,[s("ul",null,[s("li",null,[l(a,{to:"#1-python-官方镜像"},{default:p(()=>[n("1. Python 官方镜像")]),_:1})]),s("li",null,[l(a,{to:"#2-ubuntu-创建-python-环境"},{default:p(()=>[n("2. Ubuntu 创建 Python 环境")]),_:1})])])]),d])}const b=e(i,[["render",u],["__file","python-env.html.vue"]]);export{b as default};
